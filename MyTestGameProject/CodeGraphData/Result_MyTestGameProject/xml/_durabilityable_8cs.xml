<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_durabilityable_8cs" kind="file">
    <compoundname>Durabilityable.cs</compoundname>
    <innerclass refid="class_durabilityable" prot="public">Durabilityable</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections.Generic;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal">[ExecuteInEditMode]</highlight></codeline>
<codeline lineno="7" refid="class_durabilityable" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_durabilityable" kindref="compound">Durabilityable</ref><sp/>:<sp/>MonoBehaviour</highlight></codeline>
<codeline lineno="8"><highlight class="normal">{</highlight></codeline>
<codeline lineno="12" refid="class_durabilityable_1a6b9607a37447338fd63e940d8bd5a27f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>[Range(0,<sp/>180)]<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a6b9607a37447338fd63e940d8bd5a27f" kindref="member">brokenRotationRange</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="16" refid="class_durabilityable_1a4d2ec7b4413d8ee7f97fedb5820076c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>[Range(-180,<sp/>180)]<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a4d2ec7b4413d8ee7f97fedb5820076c3" kindref="member">brokenRrotation</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>[Space]</highlight></codeline>
<codeline lineno="18" refid="class_durabilityable_1acd80dddba3634a29fe9274320544832f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1acd80dddba3634a29fe9274320544832f" kindref="member">maximumDurability</ref><sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>[ContextMenuItem(</highlight><highlight class="stringliteral">&quot;Refresh&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SetSprite&quot;</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="20" refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>[Tooltip(</highlight><highlight class="stringliteral">&quot;Сопротивление<sp/>этого<sp/>объекта<sp/>к<sp/>урону.\r\n0<sp/>-<sp/>урон<sp/>проходит<sp/>полностью,<sp/>1<sp/>-<sp/>урон<sp/>блокируется.&quot;</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="26" refid="class_durabilityable_1a9e8a6a57ec1886b111a2df630541dba5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/><sp/>[Range(0,<sp/>1)]<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a9e8a6a57ec1886b111a2df630541dba5" kindref="member">resistance</ref>;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>[Space]</highlight></codeline>
<codeline lineno="28" refid="class_durabilityable_1a6aa2d7fabd25121b65b0e2a9195952cf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>Sprite[]<sp/><ref refid="class_durabilityable_1a6aa2d7fabd25121b65b0e2a9195952cf" kindref="member">durabilitySprites</ref>;</highlight></codeline>
<codeline lineno="29" refid="class_durabilityable_1ab1a21d6661f4504e0c0a09218029ed6f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>Sprite<sp/><ref refid="class_durabilityable_1ab1a21d6661f4504e0c0a09218029ed6f" kindref="member">brokenSprite</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" kindref="member">spritesCount</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="class_durabilityable_1a0fbd4f296e503c551f8ceff561d82b2d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>SpriteRenderer<sp/><ref refid="class_durabilityable_1a0fbd4f296e503c551f8ceff561d82b2d" kindref="member">renderer</ref>;</highlight></codeline>
<codeline lineno="34" refid="class_durabilityable_1aaa0fad5a69d90aef27db84a87f534c01" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Transform<sp/><ref refid="class_durabilityable_1aaa0fad5a69d90aef27db84a87f534c01" kindref="member">thisTransform</ref>;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="class_durabilityable_1a2a9dc4692a4a6f2083f4473d82742c58" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a2a9dc4692a4a6f2083f4473d82742c58" kindref="member">Start</ref><sp/>()</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_durabilityable_1acd80dddba3634a29fe9274320544832f" kindref="member">maximumDurability</ref><sp/>&lt;<sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref>)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>System.Exception(</highlight><highlight class="stringliteral">&quot;maximumDurability<sp/>должно<sp/>быть<sp/>больше<sp/>или<sp/>равно<sp/>durability&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_durabilityable_1acd80dddba3634a29fe9274320544832f" kindref="member">maximumDurability</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>System.Exception(</highlight><highlight class="stringliteral">&quot;maximumDurability<sp/>должно<sp/>быть<sp/>больше<sp/>0&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1aaa0fad5a69d90aef27db84a87f534c01" kindref="member">thisTransform</ref><sp/>=<sp/>transform;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1a0fbd4f296e503c551f8ceff561d82b2d" kindref="member">renderer</ref><sp/>=<sp/>GetComponent&lt;SpriteRenderer&gt;();</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" kindref="member">spritesCount</ref><sp/>=<sp/>durabilitySprites.Length;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1af2edcdf37a1bf2c7a76a1511d119bb46" kindref="member">SetSprite</ref>();</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="class_durabilityable_1a756c4d812546f1f7752f365294b70ffa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a756c4d812546f1f7752f365294b70ffa" kindref="member">TakeDamage</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>damage)</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>res<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(damage<sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>-=<sp/>damage<sp/>*<sp/>(1<sp/>-<sp/><ref refid="class_durabilityable_1a9e8a6a57ec1886b111a2df630541dba5" kindref="member">resistance</ref>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1a75c1ddd15b0371d46c6bd0c1c5201903" kindref="member">BreakDown</ref>();</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1af2edcdf37a1bf2c7a76a1511d119bb46" kindref="member">SetSprite</ref>();</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="class_durabilityable_1a75c1ddd15b0371d46c6bd0c1c5201903" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1a75c1ddd15b0371d46c6bd0c1c5201903" kindref="member">BreakDown</ref>()</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Destroy(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>thisTransform.rotation<sp/>=<sp/>thisTransform.rotation<sp/>*<sp/>Quaternion.Euler(0,<sp/>0,<sp/><ref refid="class_durabilityable_1a4d2ec7b4413d8ee7f97fedb5820076c3" kindref="member">brokenRrotation</ref>);</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>thisTransform.rotation<sp/>=<sp/>thisTransform.rotation<sp/>*<sp/>Quaternion.Euler(0,<sp/>0,<sp/>UnityEngine.Random.Range(-<ref refid="class_durabilityable_1a6b9607a37447338fd63e940d8bd5a27f" kindref="member">brokenRotationRange</ref>,<sp/><ref refid="class_durabilityable_1a6b9607a37447338fd63e940d8bd5a27f" kindref="member">brokenRotationRange</ref>));</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_durabilityable_1af2edcdf37a1bf2c7a76a1511d119bb46" kindref="member">SetSprite</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="class_durabilityable_1af2edcdf37a1bf2c7a76a1511d119bb46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_durabilityable_1af2edcdf37a1bf2c7a76a1511d119bb46" kindref="member">SetSprite</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>broken<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!broken)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>t<sp/>=<sp/><ref refid="class_durabilityable_1ae760b3cac8b0690ce73414af0e063ee9" kindref="member">durability</ref><sp/>/<sp/><ref refid="class_durabilityable_1acd80dddba3634a29fe9274320544832f" kindref="member">maximumDurability</ref>;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>(int)Mathf.Round(Mathf.Lerp(<ref refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" kindref="member">spritesCount</ref><sp/>-<sp/>1,<sp/>0,<sp/>t));</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&gt;<sp/><ref refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" kindref="member">spritesCount</ref><sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/><ref refid="class_durabilityable_1a6a83c2d1e59483cb426161c14b1b2453" kindref="member">spritesCount</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderer.sprite<sp/>=<sp/><ref refid="class_durabilityable_1a6aa2d7fabd25121b65b0e2a9195952cf" kindref="member">durabilitySprites</ref>[index];</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderer.sprite<sp/>=<sp/><ref refid="class_durabilityable_1ab1a21d6661f4504e0c0a09218029ed6f" kindref="member">brokenSprite</ref>;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="D:/development/unity/mytestgame/MyTestGameProject/Assets/Scripts/main_scene/Durabilityable.cs"/>
  </compounddef>
</doxygen>
