<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_rule_tile_8cs" kind="file">
    <compoundname>RuleTile.cs</compoundname>
    <innerclass refid="class_unity_engine_1_1_rule_tile" prot="public">UnityEngine::RuleTile</innerclass>
    <innerclass refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" prot="public">UnityEngine::RuleTile::TilingRule</innerclass>
    <innernamespace refid="namespace_unity_engine">UnityEngine</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections.Generic;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine.Tilemaps;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">UnityEngine</highlight></codeline>
<codeline lineno="6"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/>[Serializable]</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/>[CreateAssetMenu]</highlight></codeline>
<codeline lineno="9" refid="class_unity_engine_1_1_rule_tile" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_unity_engine_1_1_rule_tile" kindref="compound">RuleTile</ref><sp/>:<sp/>TileBase</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="11" refid="class_unity_engine_1_1_rule_tile_1a72deb656b40422aacac89f85660eac8b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Sprite<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a72deb656b40422aacac89f85660eac8b" kindref="member">m_DefaultSprite</ref>;</highlight></codeline>
<codeline lineno="12" refid="class_unity_engine_1_1_rule_tile_1aae3cd98cb97f6fea52504b60a45c0c23" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Tile.ColliderType<sp/><ref refid="class_unity_engine_1_1_rule_tile_1aae3cd98cb97f6fea52504b60a45c0c23" kindref="member">m_DefaultColliderType</ref><sp/>=<sp/>Tile.ColliderType.Sprite;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[Serializable]</highlight></codeline>
<codeline lineno="15" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="17" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>[]<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>;</highlight></codeline>
<codeline lineno="18" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a01ac0a7bed580e1babf2523f84d79075" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Sprite[]<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a01ac0a7bed580e1babf2523f84d79075" kindref="member">m_Sprites</ref>;</highlight></codeline>
<codeline lineno="19" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a1e185634edb49b81aea3dc0080ee6adc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a1e185634edb49b81aea3dc0080ee6adc" kindref="member">m_AnimationSpeed</ref>;</highlight></codeline>
<codeline lineno="20" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a25f9ca6ce5d8693914a3c0d3a2548830" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a25f9ca6ce5d8693914a3c0d3a2548830" kindref="member">m_PerlinScale</ref>;</highlight></codeline>
<codeline lineno="21" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a52359561b735c918d14d3aec26493b07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a52359561b735c918d14d3aec26493b07" kindref="member">m_RuleTransform</ref>;</highlight></codeline>
<codeline lineno="22" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a24ddc81ce7dd07fd1decc6c5932f310e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132" kindref="member">OutputSprite</ref><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a24ddc81ce7dd07fd1decc6c5932f310e" kindref="member">m_Output</ref>;</highlight></codeline>
<codeline lineno="23" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad6fe9325b3bc30409c173c343e9f8fa2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Tile.ColliderType<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad6fe9325b3bc30409c173c343e9f8fa2" kindref="member">m_ColliderType</ref>;</highlight></codeline>
<codeline lineno="24" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a488a29071aa4f7eadc88674168eca726" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a488a29071aa4f7eadc88674168eca726" kindref="member">m_RandomTransform</ref>;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="26" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a29dfd59acd658b3d5c02232c72a535c2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a29dfd59acd658b3d5c02232c72a535c2" kindref="member">TilingRule</ref>()</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a24ddc81ce7dd07fd1decc6c5932f310e" kindref="member">m_Output</ref><sp/>=<sp/>OutputSprite.Single;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>[8];</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a01ac0a7bed580e1babf2523f84d79075" kindref="member">m_Sprites</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Sprite[1];</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a1e185634edb49b81aea3dc0080ee6adc" kindref="member">m_AnimationSpeed</ref><sp/>=<sp/>1f;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a25f9ca6ce5d8693914a3c0d3a2548830" kindref="member">m_PerlinScale</ref><sp/>=<sp/>0.5f;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad6fe9325b3bc30409c173c343e9f8fa2" kindref="member">m_ColliderType</ref><sp/>=<sp/>Tile.ColliderType.Sprite;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;m_Neighbors.Length;<sp/>i++)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>[i]<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>.DontCare;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref><sp/>{<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32a4457d440870ad6d42bab9082d9bf9b61" kindref="member">Fixed</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32a4f8d7de5d5a3860f0a27f8848de1ba40" kindref="member">Rotated</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32a8ee36c9c42f877feee31aaf4b0883546" kindref="member">MirrorX</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32ac81ac223c7946d2dd3872e591c6988f5" kindref="member">MirrorY</ref><sp/>}</highlight></codeline>
<codeline lineno="40" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref><sp/>{<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88ea60a3629ef6a8f991f45d7a85f2458544" kindref="member">DontCare</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88ea77631ca4f0e08419b70726a447333ab6" kindref="member">This</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88ead06f2cf8d921d69ae70ff1004b2270a9" kindref="member">NotThis</ref><sp/>}</highlight></codeline>
<codeline lineno="41" refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132" kindref="member">OutputSprite</ref><sp/>{<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132a66ba162102bbf6ae31b522aec561735e" kindref="member">Single</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132a64663f4646781c9c0110838b905daa23" kindref="member">Random</ref>,<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132ad6b6b668dbca9d4fe774bb654226ebe3" kindref="member">Animation</ref><sp/>}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[HideInInspector]<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;TilingRule&gt;<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" kindref="member">m_TilingRules</ref>;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="class_unity_engine_1_1_rule_tile_1aedbf83058e4543979f7a19fbf187f1a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1aedbf83058e4543979f7a19fbf187f1a5" kindref="member">GetTileData</ref>(Vector3Int<sp/>position,<sp/>ITilemap<sp/>tileMap,<sp/>ref<sp/>TileData<sp/>tileData)</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.sprite<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a72deb656b40422aacac89f85660eac8b" kindref="member">m_DefaultSprite</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.colliderType<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1aae3cd98cb97f6fea52504b60a45c0c23" kindref="member">m_DefaultColliderType</ref>;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.flags<sp/>=<sp/>TileFlags.LockTransform;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.transform<sp/>=<sp/>Matrix4x4.identity;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" kindref="member">m_TilingRules</ref>)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Matrix4x4<sp/>transform<sp/>=<sp/>Matrix4x4.identity;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(rule,<sp/>position,<sp/>tileMap,<sp/>ref<sp/>transform))</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a24ddc81ce7dd07fd1decc6c5932f310e" kindref="member">m_Output</ref>)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.OutputSprite.Single:</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.OutputSprite.Animation:</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.sprite<sp/>=<sp/>rule.m_Sprites[0];</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.OutputSprite.Random:</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>Mathf.Clamp(Mathf.FloorToInt(<ref refid="class_unity_engine_1_1_rule_tile_1a63d0d37db66ac7eafe8ea71d47d383ab" kindref="member">GetPerlinValue</ref>(position,<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a25f9ca6ce5d8693914a3c0d3a2548830" kindref="member">m_PerlinScale</ref>,<sp/>100000f)<sp/>*<sp/>rule.m_Sprites.Length),<sp/>0,<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a01ac0a7bed580e1babf2523f84d79075" kindref="member">m_Sprites</ref>.Length<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.sprite<sp/>=<sp/>rule.m_Sprites[index];</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a488a29071aa4f7eadc88674168eca726" kindref="member">m_RandomTransform</ref><sp/>!=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref>.Fixed)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a8379f88ce27052c1dde683155b33205b" kindref="member">ApplyRandomTransform</ref>(rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a488a29071aa4f7eadc88674168eca726" kindref="member">m_RandomTransform</ref>,<sp/>transform,<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a25f9ca6ce5d8693914a3c0d3a2548830" kindref="member">m_PerlinScale</ref>,<sp/>position);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.transform<sp/>=<sp/>transform;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileData.colliderType<sp/>=<sp/>rule.m_ColliderType;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="class_unity_engine_1_1_rule_tile_1a63d0d37db66ac7eafe8ea71d47d383ab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a63d0d37db66ac7eafe8ea71d47d383ab" kindref="member">GetPerlinValue</ref>(Vector3Int<sp/>position,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scale,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>offset)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Mathf.PerlinNoise((position.x<sp/>+<sp/>offset)<sp/>*<sp/>scale,<sp/>(position.y<sp/>+<sp/>offset)<sp/>*<sp/>scale);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83" refid="class_unity_engine_1_1_rule_tile_1a277e81c8de1d6618173235705e69f5f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a277e81c8de1d6618173235705e69f5f9" kindref="member">GetTileAnimationData</ref>(Vector3Int<sp/>position,<sp/>ITilemap<sp/>tilemap,<sp/>ref<sp/>TileAnimationData<sp/>tileAnimationData)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" kindref="member">m_TilingRules</ref>)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Matrix4x4<sp/>transform<sp/>=<sp/>Matrix4x4.identity;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(rule,<sp/>position,<sp/>tilemap,<sp/>ref<sp/>transform)<sp/>&amp;&amp;<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a24ddc81ce7dd07fd1decc6c5932f310e" kindref="member">m_Output</ref><sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad37faf8bb3cf7612a675511ff9f9c132" kindref="member">OutputSprite</ref>.Animation)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileAnimationData.animatedSprites<sp/>=<sp/>rule.m_Sprites;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileAnimationData.animationSpeed<sp/>=<sp/>rule.m_AnimationSpeed;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="98" refid="class_unity_engine_1_1_rule_tile_1a8d9103d83e69c651d25b2fa86a26c1b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a8d9103d83e69c651d25b2fa86a26c1b1" kindref="member">RefreshTile</ref>(Vector3Int<sp/>location,<sp/>ITilemap<sp/>tileMap)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" kindref="member">m_TilingRules</ref><sp/>!=<sp/>null<sp/>&amp;&amp;<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a86ab9602a011da6b7af0bd7cf5952596" kindref="member">m_TilingRules</ref>.Count<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>-1;<sp/>y<sp/>&lt;=<sp/>1;<sp/>y++)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>-1;<sp/>x<sp/>&lt;=<sp/>1;<sp/>x++)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base.RefreshTile(location<sp/>+<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(x,<sp/>y,<sp/>0),<sp/>tileMap);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base.RefreshTile(location,<sp/>tileMap);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116" refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref><sp/>rule,<sp/>Vector3Int<sp/>position,<sp/>ITilemap<sp/>tilemap,<sp/>ref<sp/>Matrix4x4<sp/>transform)</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>rule<sp/>against<sp/>rotations<sp/>of<sp/>0,<sp/>90,<sp/>180,<sp/>270</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angle<sp/>=<sp/>0;<sp/>angle<sp/>&lt;=<sp/>(rule.m_RuleTransform<sp/>==<sp/>TilingRule.Transform.Rotated<sp/>?<sp/>270<sp/>:<sp/>0);<sp/>angle<sp/>+=<sp/>90)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(rule,<sp/>position,<sp/>tilemap,<sp/>angle))</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform<sp/>=<sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.Euler(0f,<sp/>0f,<sp/>-angle),<sp/>Vector3.one);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>rule<sp/>against<sp/>x-axis<sp/>mirror</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a52359561b735c918d14d3aec26493b07" kindref="member">m_RuleTransform</ref><sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref>.MirrorX)<sp/>&amp;&amp;<sp/><ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(rule,<sp/>position,<sp/>tilemap,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform<sp/>=<sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.identity,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3(-1f,<sp/>1f,<sp/>1f));</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>rule<sp/>against<sp/>y-axis<sp/>mirror</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a52359561b735c918d14d3aec26493b07" kindref="member">m_RuleTransform</ref><sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref>.MirrorY)<sp/>&amp;&amp;<sp/><ref refid="class_unity_engine_1_1_rule_tile_1adc06e1532351ac0d0d3fa358c68c39b7" kindref="member">RuleMatches</ref>(rule,<sp/>position,<sp/>tilemap,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform<sp/>=<sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.identity,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3(1f,<sp/>-1f,<sp/>1f));</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="class_unity_engine_1_1_rule_tile_1a8379f88ce27052c1dde683155b33205b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>Matrix4x4<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a8379f88ce27052c1dde683155b33205b" kindref="member">ApplyRandomTransform</ref>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a481dc17612fba290b911e5bfcd508c32" kindref="member">Transform</ref><sp/>type,<sp/>Matrix4x4<sp/>original,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>perlinScale,<sp/>Vector3Int<sp/>position)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>perlin<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a63d0d37db66ac7eafe8ea71d47d383ab" kindref="member">GetPerlinValue</ref>(position,<sp/>perlinScale,<sp/>200000f);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(type)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.Transform.MirrorX:</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>original<sp/>*<sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.identity,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3(perlin<sp/>&lt;<sp/>0.5<sp/>?<sp/>1f<sp/>:<sp/>-1f,<sp/>1f,<sp/>1f));</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.Transform.MirrorY:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>original<sp/>*<sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.identity,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3(1f,<sp/>perlin<sp/>&lt;<sp/>0.5<sp/>?<sp/>1f<sp/>:<sp/>-1f,<sp/>1f));</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>TilingRule.Transform.Rotated:</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angle<sp/>=<sp/>Mathf.Clamp(Mathf.FloorToInt(perlin<sp/>*<sp/>4),<sp/>0,<sp/>3)<sp/>*<sp/>90;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Matrix4x4.TRS(Vector3.zero,<sp/>Quaternion.Euler(0f,<sp/>0f,<sp/>-angle),<sp/>Vector3.one);<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>original;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161" refid="class_unity_engine_1_1_rule_tile_1a57c23abe3c5191166a3b58a9d096db5d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a57c23abe3c5191166a3b58a9d096db5d" kindref="member">RuleMatches</ref>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref><sp/>rule,<sp/>Vector3Int<sp/>position,<sp/>ITilemap<sp/>tilemap,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angle)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>-1;<sp/>y<sp/>&lt;=<sp/>1;<sp/>y++)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>-1;<sp/>x<sp/>&lt;=<sp/>1;<sp/>x++)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(x<sp/>!=<sp/>0<sp/>||<sp/>y<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3Int<sp/>offset<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(x,<sp/>y,<sp/>0);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3Int<sp/>rotated<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1ae3751c5df087537b64888416eaa3b6e1" kindref="member">GetRotatedPos</ref>(offset,<sp/>angle);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a47f206050bb34478edd8f071dafc999e" kindref="member">GetIndexOfOffset</ref>(rotated);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TileBase<sp/>tile<sp/>=<sp/>tilemap.GetTile(position<sp/>+<sp/>offset);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>[index]<sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>.This<sp/>&amp;&amp;<sp/>tile<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>||<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>[index]<sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>.NotThis<sp/>&amp;&amp;<sp/>tile<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184" refid="class_unity_engine_1_1_rule_tile_1a8366198531c29cf1c997ae9a348e4b59" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a8366198531c29cf1c997ae9a348e4b59" kindref="member">RuleMatches</ref>(<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref><sp/>rule,<sp/>Vector3Int<sp/>position,<sp/>ITilemap<sp/>tilemap,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mirrorX,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mirrorY)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>-1;<sp/>y<sp/>&lt;=<sp/>1;<sp/>y++)</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>-1;<sp/>x<sp/>&lt;=<sp/>1;<sp/>x++)</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(x<sp/>!=<sp/>0<sp/>||<sp/>y<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3Int<sp/>offset<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(x,<sp/>y,<sp/>0);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3Int<sp/>mirrored<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a04c76f9027bb53879f794a6375585f61" kindref="member">GetMirroredPos</ref>(offset,<sp/>mirrorX,<sp/>mirrorY);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a47f206050bb34478edd8f071dafc999e" kindref="member">GetIndexOfOffset</ref>(mirrored);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TileBase<sp/>tile<sp/>=<sp/>tilemap.GetTile(position<sp/>+<sp/>offset);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>[index]<sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>.This<sp/>&amp;&amp;<sp/>tile<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>||<sp/>rule.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1ad660a15e46af3cf952fddddab1eb2bd9" kindref="member">m_Neighbors</ref>[index]<sp/>==<sp/><ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule" kindref="compound">TilingRule</ref>.<ref refid="class_unity_engine_1_1_rule_tile_1_1_tiling_rule_1a6aac950a7f45189c03275c6f8d1dd88e" kindref="member">Neighbor</ref>.NotThis<sp/>&amp;&amp;<sp/>tile<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207" refid="class_unity_engine_1_1_rule_tile_1a47f206050bb34478edd8f071dafc999e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_unity_engine_1_1_rule_tile_1a47f206050bb34478edd8f071dafc999e" kindref="member">GetIndexOfOffset</ref>(Vector3Int<sp/>offset)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>offset.x<sp/>+<sp/>1<sp/>+<sp/>(-offset.y<sp/>+<sp/>1)<sp/>*<sp/>3;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>&gt;=<sp/>4)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result--;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215" refid="class_unity_engine_1_1_rule_tile_1ae3751c5df087537b64888416eaa3b6e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector3Int<sp/><ref refid="class_unity_engine_1_1_rule_tile_1ae3751c5df087537b64888416eaa3b6e1" kindref="member">GetRotatedPos</ref>(Vector3Int<sp/>original,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rotation)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(rotation)</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>0:</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>original;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>90:</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(-original.y,<sp/>original.x,<sp/>original.z);</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>180:</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(-original.x,<sp/>-original.y,<sp/>original.z);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>270:</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(original.y,<sp/>-original.x,<sp/>original.z);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>original;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="class_unity_engine_1_1_rule_tile_1a04c76f9027bb53879f794a6375585f61" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector3Int<sp/><ref refid="class_unity_engine_1_1_rule_tile_1a04c76f9027bb53879f794a6375585f61" kindref="member">GetMirroredPos</ref>(Vector3Int<sp/>original,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mirrorX,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mirrorY)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3Int(original.x<sp/>*<sp/>(mirrorX<sp/>?<sp/>-1<sp/>:<sp/>1),<sp/>original.y<sp/>*<sp/>(mirrorY<sp/>?<sp/>-1<sp/>:<sp/>1),<sp/>original.z);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="D:/development/unity/mytestgame/MyTestGameProject/Assets/2d-extras-master/Tilemap/Tiles/Rule Tile/Scripts/RuleTile.cs"/>
  </compounddef>
</doxygen>
